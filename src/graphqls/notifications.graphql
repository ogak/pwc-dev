fragment policyNotifs on Policy {
  id
  title
}

fragment businessProcessNotifs on BusinessProcess {
  id
  processName: name
}

fragment controlNotifs on Control {
  id
  description
}

fragment riskNotifs on Risk {
  id
  riskName: name
}

fragment userNotifs on User {
  id
  name
}

query notifications($filter: BaseScalar = {}, $limit: Int, $page: Int) {
  notifications(filter: $filter, limit: $limit, page: $page) {
    collection {
      id
      createdAt
      isRead
      title
      dataType
      originatorType
      originatorId
      originator {
        ...policyNotifs
        ...businessProcessNotifs
        ...controlNotifs
        ...riskNotifs
        ...userNotifs
      }
      senderUser {
        name
        firstName
        lastName
      }
    }
    metadata {
      totalCount
      currentPage
      limitValue
      totalPages
    }
  }
}

mutation destroyBulkNotification($input: DestroyBulkNotificationInput!) {
  destroyBulkNotification(input: $input) {
    clientMutationId
  }
}

mutation isRead($input: IsReadInput!) {
  isRead(input: $input) {
    clientMutationId
  }
}
